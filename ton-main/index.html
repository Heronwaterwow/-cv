<!DOCTYPE html>
<html>
<head>
    <title>TON Connect Example</title>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>

<h1>TON Connect Example</h1>

<p>This is a basic example of integrating TON Connect with JavaScript and sending a transaction.</p>

<div id="ton-connect"></div>

<button onclick="connectCustom()">Connect and Send 0.001 TON</button>

<script>
    // Replace with your actual app URL
    const manifestUrl = 'https://heronwaterwow.github.io/-cv/ton-main/tonconnect-manifest.json';
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
        manifestUrl: manifestUrl,
        buttonRootId: 'ton-connect'
    });

    // Your wallet address to receive the TON
    const recipientAddress = 'UQA9or9rMdG8vk8wSX20LRapZgTUslxrHt-Oa4JCcAynwEEi';
    const amountToSend = 10000000; // 0.01 TON in nanotons (1 TON = 10^9 nanotons)

    // Connect programmatically function
    async function connectCustom() {
        try {
            const connectedWallet = await tonConnectUI.connectWallet();
            console.log("Connected Wallet:", connectedWallet);

            const tx = {
                validUntil: Date.now() + 5 * 60 * 1000,
                messages: [{
                    address: recipientAddress,
                    amount: amountToSend.toString()
                }]
            };
            console.log("Transaction Object:", tx);

            const result = await tonConnectUI.sendTransaction(tx);
            console.log("Transaction Result:", result);
            alert("Transaction sent successfully! Hash: " + result.hash);

        } catch (error) {
            console.error("Error Type:", typeof error);
            console.error("Error:", error);
            console.error("Error Stringified:", JSON.stringify(error));
            alert("Transaction failed. See console for details. Check console for errors.");
        }
    }
</script>

</body>
</html>


